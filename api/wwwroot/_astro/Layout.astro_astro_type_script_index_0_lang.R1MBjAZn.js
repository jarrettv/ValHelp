import{c as l}from"./index.Dl2iZRHM.js";import"./_commonjsHelpers.C932wzq6.js";const i=l("https://kkvszipvbsxezcdrgsut.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtrdnN6aXB2YnN4ZXpjZHJnc3V0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjM2OTk4MDcsImV4cCI6MjAzOTI3NTgwN30.UlRIl7wtwzNr8jW6pjehojKhPjSDE0imkw_IAHgPdIQ");function c(){const s=document.getElementById("user-icon"),t=document.getElementById("user-login"),e=document.getElementById("user-name");var n=localStorage.getItem("username");n?(e&&(e.textContent=n),s&&(s.style.display="block"),t&&(t.style.display="none")):(e&&(e.textContent="(blank)"),s&&(s.style.display="none"),t&&(t.style.display="block"))}window.addEventListener("DOMContentLoaded",async()=>{const s=window.location.hash,t=new URLSearchParams(s.substring(1)),e=t.get("access_token"),n=t.get("refresh_token");if(e&&n&&(localStorage.setItem("access_token",e),localStorage.setItem("refresh_token",n),i.auth.setSession({access_token:e,refresh_token:n}),window.history.replaceState(null,""," "),console.info("Access token and refresh token stored in local storage and set on session"),c()),localStorage.getItem("username"))c();else{const o=await i.auth.getUser();if(console.debug(o),o.data.user){var a=o.data.user;const r=a.user_metadata?.custom_claims?.global_name||a.user_metadata?.full_name||a.email||a.phone||a.user_metadata?.name||"Unknown";localStorage.setItem("username",r),c()}}});
