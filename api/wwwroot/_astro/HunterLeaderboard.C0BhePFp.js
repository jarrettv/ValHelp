import{r as ze,a as V,R as Ae}from"./index.BJuqKa8y.js";import"./_commonjsHelpers.C932wzq6.js";var fe={exports:{}},Q={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var we;function He(){if(we)return Q;we=1;var e=ze(),s=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(N,x,A){var u,h={},M=null,I=null;A!==void 0&&(M=""+A),x.key!==void 0&&(M=""+x.key),x.ref!==void 0&&(I=x.ref);for(u in x)r.call(x,u)&&!a.hasOwnProperty(u)&&(h[u]=x[u]);if(N&&N.defaultProps)for(u in x=N.defaultProps,x)h[u]===void 0&&(h[u]=x[u]);return{$$typeof:s,type:N,key:M,ref:I,props:h,_owner:i.current}}return Q.Fragment=n,Q.jsx=l,Q.jsxs=l,Q}var ye;function Ve(){return ye||(ye=1,fe.exports=He()),fe.exports}var t=Ve();let he=0,be=[];function Pe(){return he+=1,()=>{if(he-=1,he===0){let e=be;be=[];for(let s of e)s()}}}let k=[],U=0;const te=4;let re=0,G=e=>{let s=[],n={get(){return n.lc||n.listen(()=>{})(),n.value},lc:0,listen(r){return n.lc=s.push(r),()=>{for(let a=U+te;a<k.length;)k[a]===r?k.splice(a,te):a+=te;let i=s.indexOf(r);~i&&(s.splice(i,1),--n.lc||n.off())}},notify(r,i){re++;let a=!k.length;for(let l of s)k.push(l,n.value,r,i);if(a){for(U=0;U<k.length;U+=te)k[U](k[U+1],k[U+2],k[U+3]);k.length=0}},off(){},set(r){let i=n.value;i!==r&&(n.value=r,n.notify(i))},subscribe(r){let i=n.listen(r);return r(n.value),i},value:e};return n};const Fe=0,Ue=1,De=5,se=6,ne=10;let ve=(e,s,n,r)=>(e.events=e.events||{},e.events[n+ne]||(e.events[n+ne]=r(i=>{e.events[n].reduceRight((a,l)=>(l(a),a),{shared:{},...i})})),e.events[n]=e.events[n]||[],e.events[n].push(s),()=>{let i=e.events[n],a=i.indexOf(s);i.splice(a,1),i.length||(delete e.events[n],e.events[n+ne](),delete e.events[n+ne])}),qe=(e,s)=>ve(e,s,Fe,n=>{let r=e.listen;return e.listen=i=>(!e.lc&&!e.starting&&(e.starting=!0,n(),delete e.starting),r(i)),()=>{e.listen=r}}),Te=(e,s)=>ve(e,s,Ue,n=>{let r=e.off;return e.off=()=>{n(),r()},()=>{e.off=r}}),Be=1e3,Ke=(e,s)=>ve(e,r=>{let i=s(r);i&&e.events[se].push(i)},De,r=>{let i=e.listen;e.listen=(...l)=>(!e.lc&&!e.active&&(e.active=!0,r()),i(...l));let a=e.off;return e.events[se]=[],e.off=()=>{a(),setTimeout(()=>{if(e.active&&!e.lc){e.active=!1;for(let l of e.events[se])l();e.events[se]=[]}},Be)},()=>{e.listen=i,e.off=a}}),We=(e,s,n)=>{Array.isArray(e)||(e=[e]);let r,i,a=()=>{if(i===re)return;i=re;let u=e.map(h=>h.get());if(!r||u.some((h,M)=>h!==r[M])){r=u;let h=s(...u);h&&h.then&&h.t?h.then(M=>{r===u&&l.set(M)}):(l.set(h),i=re)}},l=G(void 0),N=l.get;l.get=()=>(a(),N());let x,A=()=>{clearTimeout(x),x=setTimeout(a)};return Ke(l,()=>{let u=e.map(h=>h.listen(A));return a(),()=>{for(let h of u)h()}}),l},Ye=(e,s)=>We(e,s);function Je(e,s,n){let r=new Set([...s,void 0]);return e.listen((i,a,l)=>{r.has(l)&&n(i,a,l)})}let Se=(e={})=>{let s=G(e);return s.setKey=function(n,r){let i=s.value;typeof r>"u"&&n in s.value?(s.value={...s.value},delete s.value[n],s.notify(i,n)):s.value[n]!==r&&(s.value={...s.value,[n]:r},s.notify(i,n))},s};function ie(e,s={}){let n=V.useCallback(i=>s.keys?Je(e,s.keys,i):e.listen(i),[s.keys,e]),r=e.get.bind(e);return V.useSyncExternalStore(n,r,r)}let Qe=()=>({emit(e,...s){for(let n=0,r=this.events[e]||[],i=r.length;n<i;n++)r[n](...s)},events:{},on(e,s){return(this.events[e]||=[]).push(s),()=>{this.events[e]=this.events[e]?.filter(n=>s!==n)}}});function Ze({retryCount:e}){return~~((Math.random()+.5)*(1<<(e<8?e:8)))*2e3}const Ge=([e,s,n])=>{const r=({cache:d=new Map,fetcher:_,...D}={})=>{const b=Qe();let K=!0;s(()=>{K=e(),K&&b.emit(N)}),n(()=>b.emit(x));const J=new Map,X=new Map,j=new Map;let R={};const P=o=>{const m=d.get(o);return m?(m.expires||0)>I()?[m.data,m.error]:[]:[]},W=async([o,m],v,c)=>{if(!K)return;const T=p=>{v.key===o&&(v.set(p),b.emit(h,o,p,!0))},w=p=>{T({...p===void 0?{}:{data:p},...pe,promise:j.get(o)})};let{dedupeTime:g=4e3,cacheLifetime:L=1/0,fetcher:q,onErrorRetry:z=Ze}={...c,...R};L<g&&(L=g);const O=I();if(j.has(o)){v.value.loading||w(P(o)[0]);return}let y,S;const f=d.get(o);if((f?.data!==void 0||f?.error)&&([y,S]=P(o),(f.created||0)+g>O)){(v.value.data!=y||v.value.error!=S)&&T({...H,data:y,error:S});return}const E=Pe();try{clearTimeout(X.get(o));const p=q(...m);j.set(o,p),w(y);const C=await p;d.set(o,{data:C,created:I(),expires:I()+L}),T({data:C,...H})}catch(p){c.onError?.(p);const C=(d.get(o)?.retryCount||0)+1;if(d.set(o,{error:p,created:I(),expires:I()+L,retryCount:C}),z){const B=z({error:p,key:o,retryCount:C});B&&X.set(o,setTimeout(()=>{$(o),d.set(o,{retryCount:C})},B))}T({data:v.value.data,error:p,...H})}finally{E(),j.delete(o)}},Oe=(o,{fetcher:m=_,...v}={})=>{const c=Se({...H}),T={...D,...v,fetcher:m};c._=ge,c.invalidate=()=>{const{key:f}=c;f&&$(f)},c.revalidate=()=>{const{key:f}=c;f&&ce(f)},c.mutate=f=>{const{key:E}=c;E&&de(E,f)},c.fetch=async()=>{let f;const E=new Promise(C=>f=C),p=c.listen(({error:C,data:B})=>{C!==void 0&&f({error:C}),B!==void 0&&f({data:B})});return E.finally(p)};let w,g,L,q,z,O=[];qe(c,()=>{const f=!w;[z,w]=a(o),q=z.subscribe(Y=>{if(Y){const[F,ee]=Y;c.key=F,W([F,ee],c,T),g=F,L=ee}else c.key=g=L=void 0,c.set({...H})});const E=z.get();E&&([g,L]=E,f&&y());const{revalidateInterval:p=0,revalidateOnFocus:C,revalidateOnReconnect:B}=T,ue=()=>{g&&W([g,L],c,T)};p>0&&J.set(o,setInterval(ue,p)),C&&O.push(b.on(N,ue)),B&&O.push(b.on(x,ue));const je=Y=>{g&&M(g,Y)&&W([g,L],c,T)};O.push(b.on(A,je),b.on(u,je),b.on(h,(Y,F,ee)=>{g&&M(g,Y)&&c.value!==F&&c.value.data!==F&&c.set(ee?F:{data:F,...H})}))});const y=()=>{g&&L&&W([g,L],c,T)},S=c.listen;return c.listen=f=>{const E=S(f);return f(c.value),y(),E},Te(c,()=>{c.value={...H},w?.(),O.forEach(f=>f()),O=[],q?.(),clearInterval(J.get(o))}),c},oe=(o,m)=>{for(const v of d.keys())M(v,o)&&m(v)},$=o=>{oe(o,m=>{d.delete(m)}),b.emit(A,o)},ce=o=>{oe(o,m=>{const v=d.get(m);v&&d.set(m,{...v,created:-1/0})}),b.emit(u,o)},de=(o,m)=>{oe(o,v=>{m===void 0?d.delete(v):d.set(v,{data:m,created:I(),expires:I()+(D.cacheLifetime??8e3)})}),b.emit(h,o,m)};function ke(o,m){const{throttleCalls:v,onError:c}=m??{throttleCalls:!0,onError:D?.onError},T=async g=>{if(v&&w.value?.loading)return;const L=R.fetcher??o,q=[],z=[],O=(y,S)=>{w.lc&&w.setKey(y,S)};try{w.set({error:void 0,data:void 0,mutate:T,...pe});const y=await L({data:g,invalidate:S=>{q.push(S)},revalidate:S=>{z.push(S)},getCacheUpdater:(S,f=!0)=>[E=>{de(S,E),f&&z.push(S)},d.get(S)?.data]});return O("data",y),y}catch(y){c?.(y),O("error",y),w.setKey("error",y)}finally{O("loading",!1),q.forEach($),z.forEach(ce)}},w=Se({mutate:T,...H});return Te(w,()=>w.set({mutate:T,...H})),w.mutate=T,w}return[Oe,ke,{__unsafeOverruleSettings:o=>{console.warn("You should only use __unsafeOverruleSettings in test environment"),R=o},invalidateKeys:$,revalidateKeys:ce,mutateCache:de}]};function i(d){return typeof d=="string"||typeof d=="number"||d===!0}const a=d=>{if(i(d))return[G([""+d,[d]]),()=>{}];const _=[],D=G(null),b=new Map,K=()=>{_.some(j=>j==null||j===!1)?D.set(null):D.set([_.join(""),_])};for(let j=0;j<d.length;j++){const R=d[j];i(R)?_.push(R):(_.push(null),b.set(R,j))}const J=[...b.keys()],X=Ye(J,(...j)=>{for(let R=0;R<j.length;R++){const P=J[R],W=b.get(P);_[W]=P._===ge?P.value&&"data"in P.value?P.key:null:j[R]}K()});return K(),[D,X.subscribe(l)]};function l(){}const N=1,x=2,A=3,u=4,h=5,M=(d,_)=>Array.isArray(_)?_.includes(d):typeof _=="function"?_(d):d===_,I=()=>new Date().getTime(),ge=Symbol(),pe={loading:!0},H={loading:!1};return r},Ne=(e,s)=>{typeof window>"u"||addEventListener(e,s)},Xe=[()=>!document.hidden,e=>Ne("visibilitychange",e),e=>Ne("online",e)],$e=Ge(Xe),[xe,gt]=$e({fetcher:(...e)=>fetch(e.join("")).then(s=>s.json())}),et=xe("/api/hunts/list"),Z=G(0),me=xe(["/api/hunts/",Z]),ae=xe(["/api/hunts/",Z,"/players"]);function tt(e){return t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 256 256",...e,children:t.jsxs("g",{fill:"currentColor",children:[t.jsx("path",{d:"M224 128a96 96 0 1 1-96-96a96 96 0 0 1 96 96",opacity:.2}),t.jsx("path",{d:"M144 176a8 8 0 0 1-8 8a16 16 0 0 1-16-16v-40a8 8 0 0 1 0-16a16 16 0 0 1 16 16v40a8 8 0 0 1 8 8m88-48A104 104 0 1 1 128 24a104.11 104.11 0 0 1 104 104m-16 0a88 88 0 1 0-88 88a88.1 88.1 0 0 0 88-88m-92-32a12 12 0 1 0-12-12a12 12 0 0 0 12 12"})]})})}function st(e){return t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 20 20",...e,children:t.jsxs("g",{fill:"currentColor",children:[t.jsxs("g",{opacity:.2,children:[t.jsx("path",{d:"M5 5.5a.5.5 0 0 1 .5-.5h12a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5h-12a.5.5 0 0 1-.5-.5z"}),t.jsx("path",{fillRule:"evenodd",d:"M6.5 6.5v10h10v-10zM5.5 5a.5.5 0 0 0-.5.5v12a.5.5 0 0 0 .5.5h12a.5.5 0 0 0 .5-.5v-12a.5.5 0 0 0-.5-.5z",clipRule:"evenodd"})]}),t.jsx("path",{fillRule:"evenodd",d:"M4.5 4.5v4h4v-4zm-.5-1a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 .5.5h5a.5.5 0 0 0 .5-.5V4a.5.5 0 0 0-.5-.5zm7.5 1v4h4v-4zm-.5-1a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 .5.5h5a.5.5 0 0 0 .5-.5V4a.5.5 0 0 0-.5-.5zm-6.5 8v4h4v-4zm-.5-1a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 .5.5h5a.5.5 0 0 0 .5-.5v-5a.5.5 0 0 0-.5-.5zm7.5 1v4h4v-4zm-.5-1a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 .5.5h5a.5.5 0 0 0 .5-.5v-5a.5.5 0 0 0-.5-.5z",clipRule:"evenodd"})]})})}function nt(e){return t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 48 48",...e,children:[t.jsx("defs",{children:t.jsx("mask",{id:"ipTTrophy0",children:t.jsxs("g",{fill:"none",stroke:"#fff",strokeLinejoin:"round",strokeWidth:4,children:[t.jsx("path",{fill:"#555",d:"M24 30c6.627 0 12-5.53 12-12.353V4H12v13.647C12 24.47 17.373 30 24 30Z"}),t.jsx("path",{strokeLinecap:"round",d:"M12 21V11H4c0 6.667 4 10 8 10m24 0V11h8c0 6.667-4 10-8 10",clipRule:"evenodd"}),t.jsx("path",{strokeLinecap:"round",d:"M24 32v4"}),t.jsx("path",{fill:"#555",d:"m15 42l3.69-6h10.353L33 42z"})]})})}),t.jsx("path",{fill:"currentColor",d:"M0 0h48v48H0z",mask:"url(#ipTTrophy0)"})]})}function rt({imgsrc:e,score:s}){return t.jsx("div",{className:"trophy-node",style:{backgroundImage:`url(${e})`},children:t.jsx("div",{children:s})})}function _e({imgsrc:e,score:s}){return t.jsx("div",{className:"trophy-node penalty",style:{backgroundImage:`url(${e})`},children:t.jsx("div",{children:s})})}function Ee(e){return t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:[t.jsxs("path",{fill:"currentColor",fillOpacity:0,d:"M12 11L12 12L12 13z",children:[t.jsx("animate",{fill:"freeze",attributeName:"d",begin:"0.75s",dur:"0.2s",values:"M12 11L12 12L12 13z;M10 8.5L16 12L10 15.5z"}),t.jsx("set",{fill:"freeze",attributeName:"fill-opacity",begin:"0.75s",to:1})]}),t.jsxs("path",{fill:"currentColor",fillOpacity:0,stroke:"currentColor",strokeDasharray:64,strokeDashoffset:64,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5c9 0 9 0 9 7c0 7 0 7 -9 7c-9 0 -9 0 -9 -7c0 -7 0 -7 9 -7Z",children:[t.jsx("animate",{fill:"freeze",attributeName:"fill-opacity",begin:"0.6s",dur:"0.15s",values:"0;0.3"}),t.jsx("animate",{fill:"freeze",attributeName:"stroke-dashoffset",dur:"0.6s",values:"64;0"})]})]})}function it(e){return t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 512 512",...e,children:t.jsx("path",{fill:"currentColor",d:"M257.375 20.313c-13.418 0-26.07 7.685-35.938 21.75c-9.868 14.064-16.343 34.268-16.343 56.75c0 22.48 6.475 42.654 16.344 56.718c9.868 14.066 22.52 21.75 35.937 21.75c13.418 0 26.038-7.684 35.906-21.75c9.87-14.063 16.376-34.236 16.376-56.718c0-22.48-6.506-42.685-16.375-56.75c-9.867-14.064-22.487-21.75-35.905-21.75zm-150.25 43.062c-20.305.574-23.996 13.892-31.78 29.03c-23.298 45.304-55.564 164.75-55.564 164.75l160.47-5.436l29.125 137.593l-22.78 106.03h149.093l-22.282-106l24.25-137.5l157.53 5.313c.002 0-32.264-119.447-55.56-164.75c-7.787-15.14-11.477-28.457-31.782-29.03c-17.898 0-32.406 15.552-32.406 34.718s14.508 34.72 32.406 34.72c3.728 0 7.258-.884 10.594-2.126l7.937 74.406L309.437 165c-.285.42-.552.867-.843 1.28c-12.436 17.724-30.604 29.69-51.22 29.69c-20.614 0-38.782-11.966-51.218-29.69c-.277-.395-.54-.816-.812-1.218l-116.75 40.032l7.937-74.406c3.337 1.242 6.867 2.125 10.595 2.125c17.898 0 32.406-15.553 32.406-34.72c0-19.165-14.507-34.718-32.405-34.718z"})})}function Re(e){return t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 256 256",...e,children:t.jsxs("g",{fill:"currentColor",children:[t.jsx("path",{d:"M216 48v108.25a8 8 0 0 1-2.88 6.15l-42.89 35.75a8.05 8.05 0 0 1-5.13 1.85H120l-48 40v-40H48a8 8 0 0 1-8-8V48a8 8 0 0 1 8-8h160a8 8 0 0 1 8 8",opacity:.2}),t.jsx("path",{d:"M208 32H48a16 16 0 0 0-16 16v144a16 16 0 0 0 16 16h16v32a8 8 0 0 0 13.12 6.15L122.9 208h42.2a16 16 0 0 0 10.25-3.71l42.89-35.75a15.93 15.93 0 0 0 5.76-12.29V48a16 16 0 0 0-16-16m0 124.25L165.1 192H120a8 8 0 0 0-5.12 1.85L80 222.92V200a8 8 0 0 0-8-8H48V48h160ZM160 136V88a8 8 0 0 1 16 0v48a8 8 0 0 1-16 0m-48 0V88a8 8 0 0 1 16 0v48a8 8 0 0 1-16 0"})]})})}function at(e){return t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:[t.jsx("path",{fill:"currentColor",d:"M4.01 8.54C5.2 9.23 6 10.52 6 12s-.81 2.77-2 3.46V18h16v-2.54c-1.19-.69-2-1.99-2-3.46s.81-2.77 2-3.46V6H4zm6.72 1.68L12 7l1.26 3.23l3.47.2l-2.69 2.2l.89 3.37L12 14.12L9.07 16l.88-3.37l-2.69-2.2z",opacity:.3}),t.jsx("path",{fill:"currentColor",d:"M20 4H4c-1.1 0-1.99.9-1.99 2v4c1.1 0 1.99.9 1.99 2s-.89 2-2 2v4c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-4c-1.1 0-2-.9-2-2s.9-2 2-2V6c0-1.1-.9-2-2-2m0 4.54c-1.19.69-2 1.99-2 3.46s.81 2.77 2 3.46V18H4v-2.54c1.19-.69 2-1.99 2-3.46c0-1.48-.8-2.77-1.99-3.46L4 6h16zM9.07 16L12 14.12L14.93 16l-.89-3.36l2.69-2.2l-3.47-.21L12 7l-1.27 3.22l-3.47.21l2.69 2.2z"})]})}const lt=()=>{const[e,s]=V.useState(!1),[n,r]=V.useState(""),i=()=>{s(!0)},a=()=>{s(!1)},l=()=>{r(""),s(!1)};return t.jsx("div",{style:{margin:"1rem"},children:e?t.jsxs("div",{children:[t.jsx("input",{type:"text",value:n,onChange:N=>r(N.target.value)}),t.jsx("button",{onClick:a,children:"Save"}),t.jsx("button",{onClick:l,children:"Cancel"})]}):t.jsx("div",{children:t.jsx("button",{onClick:i,children:"Register Competitor"})})})},Le=({targetTime:e})=>{const[s,n]=V.useState(0);V.useEffect(()=>{const i=setInterval(()=>{const a=new Date().getTime(),l=e.getTime()-a;n(l),l<=0&&clearInterval(i)},1e3);return()=>{clearInterval(i)}},[e]);const r=i=>{i=Math.abs(i);const a=Math.floor(i/1e3),l=Math.floor(a/(60*60*24)),N=Math.floor(a%(60*60*24)/(60*60)),x=Math.floor(a%(60*60)/60),A=a%60;let u=`${x}m ${A}s`;return N>0&&(u=`${N}h ${u}`),l>0&&(u=`${l}d ${u}`),u};return t.jsx("span",{className:"timeuntil",children:r(s)})},Ce=["Meadows","Black Forest","Ocean","Swamp","Mountain","Plains","Mistlands","Ashlands"],le=[{data:{id:"death1",name:"Death",code:"Death",biome:"Penalty",score:100,order:0,image:{src:"/images/death.png"}},id:"death1"}].map(e=>e.data).sort((e,s)=>e.score-s.score).sort((e,s)=>Ce.indexOf(e.biome)-Ce.indexOf(s.biome)),Me=le.find(e=>e.id==="death1").image.src,Ie=le.find(e=>e.id==="relog1").image.src;function pt(){const{data:e,loading:s}=ie(et),n=ie(Z),r=ie(me);if(V.useEffect(()=>{if(e&&e.length>0){var a=e.find(l=>l.status===20)??e.find(l=>l.status===10)??e.find(l=>l.status===30)??e[0];Z.set(a.id)}},[e]),V.useEffect(()=>{const a=setInterval(()=>{const l=new Date;r.data?.status===20?(l>new Date(r.data.end_at)&&(console.log("Hunt just ended"),me.invalidate()),ae.invalidate()):r.data?.status===10&&l>new Date(r.data.start_at)&&(console.log("Hunt just started"),me.invalidate(),ae.invalidate())},2e4);return()=>clearInterval(a)},[r]),s||!e)return t.jsx("div",{children:"Loading..."});function i(a){Z.set(a.id)}return t.jsxs("div",{className:"hunter-leaderboard",children:[t.jsx("div",{className:"hunts",children:e.sort((a,l)=>new Date(l.start_at).getTime()-new Date(a.start_at).getTime()).map(a=>t.jsx("div",{className:a.id===n?"tab active":"tab",onClick:()=>i(a),children:a.name},a.id))}),t.jsx("div",{children:r.data?t.jsx(ht,{huntData:r.data}):t.jsx("div",{children:"Loading..."})})]})}function ot({huntData:e}){return t.jsx("p",{children:e.desc.split(`
`).map((s,n)=>t.jsxs(Ae.Fragment,{children:[s,t.jsx("br",{})]},n))})}function ct({huntData:e}){return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"scoring",style:{backgroundColor:"#0003"},children:[t.jsxs("div",{className:"item",children:[t.jsx("img",{src:Me,alt:"Death"}),t.jsx("div",{className:"score",children:e.scoring.Death})]}),t.jsxs("div",{className:"item",children:[t.jsx("img",{src:Ie,alt:"Relog"}),t.jsx("div",{className:"score",children:e.scoring.Relog})]})]}),t.jsx("div",{className:"scoring",children:le.filter(s=>s.biome!=="Penalty").sort((s,n)=>s.order-n.order).map(s=>t.jsxs("div",{className:"item",children:[t.jsx("img",{src:s.image.src,alt:s.name}),t.jsx("div",{className:"score",children:e.scoring[s.code]})]},s.id))})]})}function dt({huntPlayers:e}){return e?t.jsx("table",{className:"leaderboard",children:t.jsx("tbody",{children:e.map(s=>t.jsxs("tr",{children:[t.jsx("td",{width:"16%",className:"hunter",children:s.name}),t.jsxs("td",{style:{padding:"0 1rem",textAlign:"right"},children:[s.stream&&s.stream.includes("twitch")&&t.jsx(Re,{fontSize:"1.8rem",color:"#6141A5"}),s.stream&&s.stream.includes("youtube")&&t.jsx(Ee,{fontSize:"1.8rem",color:"red"})]}),t.jsxs("td",{className:"watch",children:[s.stream&&t.jsx("a",{href:s.stream,target:"_blank",rel:"noreferrer",children:s.stream}),!s.stream&&t.jsx("span",{children:"Not available yet"})]})]},(s.hunt_id,s.player_id)))})}):t.jsx("div",{children:"Loading..."})}function ut({huntPlayers:e}){return e?t.jsxs(t.Fragment,{children:[t.jsx("table",{className:"leaderboard",children:t.jsx("tbody",{children:e.map(s=>t.jsxs("tr",{children:[t.jsx("td",{width:"16%",className:"hunter",children:s.name}),t.jsx("td",{children:"Personal best: N/A"}),t.jsxs("td",{style:{padding:"0 1rem",textAlign:"right"},children:[s.stream&&s.stream.includes("twitch")&&t.jsx(Re,{fontSize:"1.8rem",color:"#6141A5"}),s.stream&&s.stream.includes("youtube")&&t.jsx(Ee,{fontSize:"1.8rem",color:"red"})]}),t.jsxs("td",{className:"watch",children:[s.stream&&t.jsx("a",{href:s.stream,target:"_blank",rel:"noreferrer",children:s.stream}),!s.stream&&t.jsx("span",{children:"Stream not available yet"})]})]},(s.hunt_id,s.player_id)))})}),t.jsx(lt,{})]}):t.jsx("div",{children:"Loading..."})}function ft({huntData:e,huntPlayers:s}){return s?t.jsxs(t.Fragment,{children:[e.status===20&&t.jsx("div",{className:"pulse",children:"Tournament is LIVE so results will refresh periodically"}),e.status===30&&t.jsx("div",{className:"pulse",children:"Tournament is OVER! See you at the next hunt!"}),t.jsx("table",{className:e.status===20?"leaderboard live":"leaderboard",children:t.jsx("tbody",{children:s.sort((n,r)=>r.score-n.score).map(n=>t.jsxs("tr",{children:[t.jsx("td",{width:"16%",className:"hunter",children:n.name}),t.jsx("td",{width:"38px",className:"score",children:n.score}),t.jsxs("td",{className:"items",children:[le.filter(r=>n.trophies.includes(r.code)).map(r=>t.jsx(rt,{imgsrc:r.image.src,score:e.scoring[r.code]},r.id)),n.deaths>0&&t.jsx(_e,{imgsrc:Me,score:n.deaths*e.scoring.Death},"death"),n.relogs>0&&t.jsx(_e,{imgsrc:Ie,score:n.relogs*e.scoring.Relog},"relog")]})]},(n.hunt_id,n.player_id)))})})]}):t.jsx("div",{children:"Loading..."})}function ht({huntData:e}){const s=ie(ae),n=e.status===20?"results":"info",[r,i]=V.useState(n);function a(l){i(l)}return t.jsxs("div",{className:"hunt-details",children:[t.jsxs("div",{className:"hunt-head",children:[t.jsxs("div",{children:[t.jsx("h1",{children:e.name}),t.jsxs("div",{style:{opacity:.8,marginTop:"-0.25rem"},children:[new Date(e.start_at).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})," ",new Date(e.start_at).toLocaleTimeString().replace(":00:00 ","").toLowerCase(),"-",new Date(e.end_at).toLocaleTimeString().replace(":00:00 ","").toLowerCase()]}),t.jsxs("div",{style:{marginTop:"-0.15rem"},className:"hunt-status",children:[e.status>20&&t.jsx(t.Fragment,{children:" Tournament is over"}),e.status===20&&t.jsxs(t.Fragment,{children:[" Tournament is LIVE for another ",t.jsx(Le,{targetTime:new Date(e.end_at)})]}),e.status<20&&t.jsxs(t.Fragment,{children:[" Tournament is starting in ",t.jsx(Le,{targetTime:new Date(e.start_at)})," "]})]})]}),t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx("div",{style:{opacity:.6},children:"Seed"}),t.jsx("div",{className:"hunt-seed",children:e.seed})]})]}),t.jsxs("nav",{style:{maxWidth:"500px"},children:[t.jsxs("div",{className:r==="info"?"tab active":"tab",onClick:()=>a("info"),children:[t.jsx(tt,{}),"Info"]}),t.jsxs("div",{className:r==="scoring"?"tab active":"tab",onClick:()=>a("scoring"),children:[t.jsx(st,{}),"Scoring"]}),e.status<20&&t.jsxs("div",{className:r==="competitors"?"tab active":"tab",onClick:()=>a("competitors"),children:[t.jsx(it,{}),"Competitors"]}),e.status>=20&&t.jsxs("div",{className:r==="watch"?"tab active":"tab",onClick:()=>a("watch"),children:[t.jsx(at,{}),"Watch"]}),e.status>=20&&t.jsxs("div",{className:r==="results"?"tab active":"tab",onClick:()=>a("results"),children:[t.jsx(nt,{}),"Results"]})]}),r==="info"&&t.jsx(ot,{huntData:e}),r==="scoring"&&t.jsx(ct,{huntData:e}),r==="competitors"&&t.jsx(ut,{huntPlayers:s.data}),r==="watch"&&t.jsx(dt,{huntPlayers:s.data}),r==="results"&&t.jsx(ft,{huntData:e,huntPlayers:s.data})]})}export{pt as default};
